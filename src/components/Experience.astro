---
import { Calendar, MapPin, Briefcase, GraduationCap } from 'lucide-react';

const experiences = [
  {
    id: 1,
    type: 'work',
    title: 'Développeur PHP / Symfony',
    company: 'Micropole',
    location: 'Lyon, France',
    period: '2022-09 -> 2025-09',
    duration: '3 ans',
    description: 'Développement en équipe pour la refonte de l\’application web pour des grands comptes avec Sylius, en TMA et production.',
    achievements: [
      'Optimisation de la performance d\'un PIM de plus de 70% sur une application ecommerce sous Sylius',
      'Intervention sur un projet d\’équipe visant la refonte de plusieurs applications web Sylius pour des clients, incluant TMA et mise en production.',
      'Mise en place de tests unitaires et fonctionnels',
      'Implémentation de CI/CD robuste avec Gitlab CI/CD et Docker'
    ],
    technologies: ['Symfony', 'Sylius', 'MariaDB', 'Docker', 'Gitlab CI/CD']
  },
  {
    id: 2,
    type: 'education',
    title: 'Mastere Ingénierie Informatique',
    company: 'ESGI',
    location: 'Lyon, France',
    period: '2023 - 2025',
    duration: '2 ans',
    description: 'Spécialisation en Ingénierie du Web.',
    achievements: [
      'Développement de CI/CD',
      'Hackathon',
      'DevOps (Terraform, Kubernetes, Docker)',
      'Green IT',
      'En alternance',
    ],
    technologies: ['Rust', 'Symfony', 'React', 'Docker', 'Gitlab CI/CD', 'Nestjs']
  },
  {
    id: 3,
    type: 'education',
    title: 'University Immersion Program (Computer Science)',
    company: 'UCSB',
    location: 'Santa Barbara CA, USA',
    period: '2024 - 2024',
    duration: '1 semestre',
    description: 'Programme d\'immersion universitaire en informatique',
    achievements: [
      'Data Structures et Algorithmes',
      'Résolution de problèmes en C++',
      'Python intermédiaire',
      'Design Web, Maquettage',
    ],
    technologies: ['C++', 'Python', 'Figma']
  },
  {
    id: 4,
    type: 'education',
    title: 'Bachelor 3 Ingénierie Informatique',
    company: 'ESGI',
    location: 'Lyon, France',
    period: '2022 - 2023',
    duration: '1 an',
    description: 'Spécialisation en Ingénierie du Web.',
    achievements: [
      'Conception Web Design',
      'Marketing Digital',
      'Requetage SQL',
      'Hackathon',
      'En alternance',
    ],
    technologies: ['HTML/CSS', 'JavaScript', 'WordPress', 'PHP', 'Figma']
  },
  {
    id: 5,
    type: 'work',
    title: 'Développeur d\'applications web',
    company: 'Epalia',
    location: 'Lyon, France',
    period: '2020 - 2022',
    duration: '2 ans',
    description: 'Développement d\'un outil interne de saisie de production, de gestion des travailleurs temporaires', 
    achievements: [
      'Développement d\'une application web interne gérant la saisie de la production, le moteur de calcul des primes de production, les exportations de données pour analyse.',
      'Analyse la demande interne, établissement des spécifications techniques',
      'Mise en place de tests unitaires et fonctionnels afin de garantir l\'intégrité fonctionnelle de l\'application',
    ],
    technologies: ['Symfony', 'Golang', 'Nextjs', 'Tailwind CSS']
  },
  {
    id: 6,
    type: 'education',
    title: 'Graduate: Développeur web et web mobile',
    company: '2i tech academy',
    location: 'Lyon, France',
    period: '2020 - 2022',
    duration: '2 ans',
    description: 'Techniques de développement web et mobile',
    achievements: [
      'Conception We Design',
      'Marketing Digital',
      'Requetage SQL',
      'Hackathon',
      'En alternance',
    ],
    technologies: ['HTML/CSS', 'JavaScript', 'WordPress', 'PHP', 'Symfony']
  },
  
];
---

<section id="experience" class="section-padding">
  <div class="container-custom">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold mb-6">
        Mon <span class="gradient-text">parcours</span>
      </h2>
      <p class="text-xl text-slate-400 max-w-2xl mx-auto">
        Découvrez mon évolution professionnelle et mes expériences marquantes.
      </p>
    </div>
    
    <!-- Timeline -->
    <div class="relative max-w-5xl mx-auto">
      <!-- Vertical line -->
      <div class="absolute left-4 md:left-1/2 top-0 bottom-0 w-0.5 bg-gradient-to-b from-blue-500 via-purple-500 to-pink-500 transform md:-translate-x-0.5"></div>
      
      <!-- Timeline Items -->
      <div class="space-y-12">
        {experiences.map((exp, index) => (
          <div 
            class={`timeline-item animate-fade-in-up opacity-0`}
            style={`animation-delay: ${index * 300}ms;`}
          >
            <div class={`flex ${index % 2 === 0 ? 'md:flex-row-reverse md:justify-end' : 'md:flex-row md:justify-start'} items-start gap-x-4 md:flex md:items-center md:gap-x-8`}>
              <!-- Spacer for alignment on desktop -->
              <div class="hidden md:block spacer-desktop"></div>

              <!-- Timeline dot -->
              <div class="relative flex-shrink-0">
                <div class="w-8 h-8 rounded-full bg-slate-800 border-4 border-blue-500 flex items-center justify-center z-10 relative">
                  {exp.type === 'work' ? (
                    <Briefcase className="w-4 h-4 text-blue-400" />
                  ) : (
                    <GraduationCap className="w-4 h-4 text-purple-400" />
                  )}
                </div>
              </div>
              
              <!-- Content Card -->
              <div class={`flex-1 md:w-5/12 ${index % 2 === 0 ? 'md:pr-8' : 'md:pl-8'}`}>
                <div class="bg-slate-800/50 rounded-2xl p-6 card-hover">
                  <!-- Header -->
                  <div class="mb-4">
                    <div class="flex items-center gap-2 text-sm text-slate-400 mb-2">
                      <Calendar className="w-4 h-4" />
                      <span>{exp.period}</span>
                      <span class="text-slate-600">•</span>
                      <span>{exp.duration}</span>
                    </div>
                    
                    <h3 class="text-xl font-semibold text-white mb-1">
                      {exp.title}
                    </h3>
                    
                    <div class="flex items-center gap-2 text-blue-400 font-medium mb-2">
                      <span>{exp.company}</span>
                    </div>
                    
                    <div class="flex items-center gap-2 text-slate-400 text-sm">
                      <MapPin className="w-4 h-4" />
                      <span>{exp.location}</span>
                    </div>
                  </div>
                  
                  <!-- Description -->
                  <p class="text-slate-300 leading-relaxed mb-4">
                    {exp.description}
                  </p>
                  
                  <!-- Achievements -->
                  <div class="mb-4">
                    <h4 class="text-sm font-semibold text-white mb-2">Réalisations clés :</h4>
                    <ul class="space-y-1">
                      {exp.achievements.map((achievement) => (
                        <li class="flex items-start gap-2 text-sm text-slate-300">
                          <div class="w-1.5 h-1.5 bg-blue-400 rounded-full mt-2 flex-shrink-0"></div>
                          <span>{achievement}</span>
                        </li>
                      ))}
                    </ul>
                  </div>
                  
                  <!-- Technologies -->
                  <div>
                    <h4 class="text-sm font-semibold text-white mb-2">Technologies :</h4>
                    <div class="flex flex-wrap gap-2">
                      {exp.technologies.map((tech) => (
                        <span class="text-xs bg-slate-700/50 text-slate-300 px-2 py-1 rounded-md">
                          {tech}
                        </span>
                      ))}
                    </div>
                  </div>
                </div>
              </div>
              
              
            </div>
          </div>
        ))}
      </div>
    </div>
    
    <!-- Call to Action -->
    <div class="text-center mt-16">
      <div class="animate-fade-in-up opacity-0 animation-delay-600">
        <h3 class="text-2xl font-semibold mb-4 text-white">Intéressé par mon profil ?</h3>
        <p class="text-slate-400 mb-6 max-w-2xl mx-auto">
          Je suis toujours ouvert aux nouvelles opportunités et aux projets passionnants. 
          N'hésitez pas à télécharger mon CV ou à me contacter directement sur LinkedIn.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/portfolio-astro/cv.pdf" download class="btn-primary">
            Télécharger mon CV
          </a>
          <a href="https://www.linkedin.com/in/arnaud-gouel" target="_blank" class="btn-secondary">
            LinkedIn
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .timeline-item {
    @apply relative;
  }
  
  @media (min-width: 768px) {
    .spacer-desktop {
      width: calc(50% - 2rem - 0.95rem);
    }
    .timeline-item:nth-child(even) .card-hover {
      @apply transform;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const observerOptions = {
      threshold: 0.2,
      rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.remove('opacity-0');
        }
      });
    }, observerOptions);
    
    // Observe timeline items
    document.querySelectorAll('.timeline-item').forEach(item => {
      observer.observe(item);
    });
  });
</script> 